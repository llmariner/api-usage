{"$schema":"http://json-schema.org/draft-07/schema#","$ref":"#/$defs/helm-values","$defs":{"helm-values":{"type":"object","properties":{"affinity":{"$ref":"#/$defs/helm-values.affinity"},"database":{"$ref":"#/$defs/helm-values.database"},"enable":{"$ref":"#/$defs/helm-values.enable"},"fullnameOverride":{"$ref":"#/$defs/helm-values.fullnameOverride"},"global":{"$ref":"#/$defs/helm-values.global"},"image":{"$ref":"#/$defs/helm-values.image"},"nameOverride":{"$ref":"#/$defs/helm-values.nameOverride"},"nodeSelector":{"$ref":"#/$defs/helm-values.nodeSelector"},"podAnnotations":{"$ref":"#/$defs/helm-values.podAnnotations"},"podSecurityContext":{"$ref":"#/$defs/helm-values.podSecurityContext"},"pollInterval":{"$ref":"#/$defs/helm-values.pollInterval"},"replicaCount":{"$ref":"#/$defs/helm-values.replicaCount"},"resources":{"$ref":"#/$defs/helm-values.resources"},"retentionPeriod":{"$ref":"#/$defs/helm-values.retentionPeriod"},"securityContext":{"$ref":"#/$defs/helm-values.securityContext"},"tolerations":{"$ref":"#/$defs/helm-values.tolerations"},"version":{"$ref":"#/$defs/helm-values.version"},"volumeMounts":{"$ref":"#/$defs/helm-values.volumeMounts"},"volumes":{"$ref":"#/$defs/helm-values.volumes"}},"additionalProperties":false},"helm-values.affinity":{"description":"A Kubernetes Affinity, if required.\nFor more information, see [Assigning Pods to Nodes](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node).","type":"object"},"helm-values.database":{"type":"object","properties":{"database":{"$ref":"#/$defs/helm-values.database.database"}},"additionalProperties":false},"helm-values.database.database":{"description":"The database name.","type":"string","default":"api_usage"},"helm-values.enable":{"description":"This field can be used as a condition when using it as a dependency. This definition is only here as a placeholder such that it is included in the json schema.","type":"boolean"},"helm-values.fullnameOverride":{"description":"Override the \"api-usage-cleaner.fullname\" value. This value is used as part of most of the names of the resources created by this Helm chart.","type":"string"},"helm-values.global":{"description":"Global values shared across all (sub)charts","type":"object","properties":{"database":{"$ref":"#/$defs/helm-values.global.database"},"databaseSecret":{"$ref":"#/$defs/helm-values.global.databaseSecret"}}},"helm-values.global.database":{"type":"object","properties":{"createDatabase":{"$ref":"#/$defs/helm-values.global.database.createDatabase"},"host":{"$ref":"#/$defs/helm-values.global.database.host"},"originalDatabase":{"$ref":"#/$defs/helm-values.global.database.originalDatabase"},"port":{"$ref":"#/$defs/helm-values.global.database.port"},"ssl":{"$ref":"#/$defs/helm-values.global.database.ssl"},"username":{"$ref":"#/$defs/helm-values.global.database.username"}}},"helm-values.global.database.createDatabase":{"description":"Specify whether to create the database if it does not exist.","type":"boolean","default":false},"helm-values.global.database.host":{"description":"The database host name.","type":"string","default":"postgres"},"helm-values.global.database.originalDatabase":{"description":"Specify the original database name to connect to before creating the database. If empty, use \"template1\".","type":"string"},"helm-values.global.database.port":{"description":"The database port number.","type":"number","default":5432},"helm-values.global.database.ssl":{"type":"object","properties":{"mode":{"$ref":"#/$defs/helm-values.global.database.ssl.mode"},"rootCert":{"$ref":"#/$defs/helm-values.global.database.ssl.rootCert"}}},"helm-values.global.database.ssl.mode":{"description":"This option determines whether or with what priority a secure. SSL TCP/IP connection will be negotiated with the database. For more information, see [Database Connection Control](https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-SSLMODE)","type":"string","default":"prefer"},"helm-values.global.database.ssl.rootCert":{"description":"Specify the name of a file containing SSL certificate authority (CA) certificate(s). If the file exists, the server's certificate will be verified to be signed by one of these authorities. For more information, see [Database Connection Control](https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-SSLROOTCERT)","type":"string"},"helm-values.global.database.username":{"description":"The database user name.","type":"string","default":"ps_user"},"helm-values.global.databaseSecret":{"type":"object","properties":{"key":{"$ref":"#/$defs/helm-values.global.databaseSecret.key"},"name":{"$ref":"#/$defs/helm-values.global.databaseSecret.name"}}},"helm-values.global.databaseSecret.key":{"description":"The key name with a password set.","type":"string","default":"password"},"helm-values.global.databaseSecret.name":{"description":"The secret name.","type":"string","default":"postgres"},"helm-values.image":{"type":"object","properties":{"pullPolicy":{"$ref":"#/$defs/helm-values.image.pullPolicy"},"repository":{"$ref":"#/$defs/helm-values.image.repository"}},"additionalProperties":false},"helm-values.image.pullPolicy":{"description":"Kubernetes imagePullPolicy on Deployment.","type":"string","default":"IfNotPresent"},"helm-values.image.repository":{"description":"The container image to use.","type":"string","default":"public.ecr.aws/cloudnatix/llmariner/api-usage-server"},"helm-values.nameOverride":{"description":"Override the \"api-usage-cleaner.name\" value, which is used to annotate some of the resources that are created by this Chart (using \"app.kubernetes.io/name\").","type":"string"},"helm-values.nodeSelector":{"description":"The nodeSelector on Pods tells Kubernetes to schedule Pods on the nodes with matching labels. For more information, see [Assigning Pods to Nodes](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/).","type":"object"},"helm-values.podAnnotations":{"description":"Optional additional annotations to add to the Deployment Pods.","type":"object"},"helm-values.podSecurityContext":{"description":"Security Context for the api-usage-cleaner pod.\nFor more information, see [Configure a Security Context for a Pod or Container](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/).","type":"object","default":{"fsGroup":2000}},"helm-values.pollInterval":{"description":"The interval in time duration to clean up the database.","type":"string","default":"1h"},"helm-values.replicaCount":{"description":"Number of replicas to run.","type":"number","default":1},"helm-values.resources":{"description":"Resources to provide to the api-usage-cleaner pod. For more information, see [Resource Management for Pods and Containers](https://kubernetes.io/docs/concepts/configuration/manage-resources-Containers/).","type":"object","default":{"limits":{"cpu":"100m","memory":"128Mi"},"requests":{"cpu":"100m","memory":"128Mi"}}},"helm-values.retentionPeriod":{"description":"The retention period in time duration for the database.","type":"string","default":"720h"},"helm-values.securityContext":{"description":"Security Context for the api-usage-cleaner container. For more information, see [Configure a Security Context for a Pod or Container](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/).","type":"object","default":{"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":true,"runAsNonRoot":true,"runAsUser":1000}},"helm-values.tolerations":{"description":"A list of Kubernetes Tolerations, if required.\nFor more information, see [Taints and Tolerations](https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/).","type":"array","items":{}},"helm-values.version":{"description":"Override the container image tag to deploy by setting this variable. If no value is set, the chart's appVersion will be used.","type":"string"},"helm-values.volumeMounts":{"description":"Additional volume mounts to add to the api-usage-cleaner container.","type":"array","items":{}},"helm-values.volumes":{"description":"Additional volumes to add to the api-usage-cleaner pod.","type":"array","items":{}}}}
